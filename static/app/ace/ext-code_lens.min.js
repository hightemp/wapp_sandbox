define("ace/ext/code_lens",["require","exports","module","ace/line_widgets","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/editor","ace/config"],function(e,a,n){"use strict";function o(e,n){if(e&n.CHANGE_LINES||e&n.CHANGE_FULL||e&n.CHANGE_SCROLL||e&n.CHANGE_TEXT){var o=n.session,t=n.session.lineWidgets,e=n.$textLayer,s=e.$lenses;if(t){for(var i,r=n.$textLayer.$lines.cells,a=n.layerConfig,d=n.$padding,s=s||(e.$lenses=[]),l=0,c=0;c<r.length;c++){var u=r[c].row,g=t[u],f=g&&g.lenses;if(f&&f.length){var L=s[l];(L=L||(s[l]=v.buildDom(["div",{class:"ace_codeLens"}],n.container))).style.height=a.lineHeight+"px",l++;for(var p=0;p<f.length;p++){var h=L.childNodes[2*p];h||(0!=p&&L.appendChild(v.createTextNode(" | ")),h=v.buildDom(["a"],L)),h.textContent=f[p].title,h.lensCommand=f[p]}for(;L.childNodes.length>2*p-1;)L.lastChild.remove();g=n.$cursorLayer.getPixelPosition({row:u,column:0},!0).top-a.lineHeight*g.rowsAbove-a.offset,g=(L.style.top=g+"px",n.gutterWidth),u=o.getLine(u).search(/\S|$/),g=(g+=(u=-1==u?0:u)*a.characterWidth)-n.scrollLeft;L.style.paddingLeft=d+g+"px"}}for(;l<s.length;)s.pop().remove()}else s&&((i=(e=(e=n).$textLayer).$lenses)&&i.forEach(function(e){e.remove()}),e.$lenses=null)}}function t(r){r.codeLensProviders=[],r.renderer.on("afterRender",o),r.$codeLensClickHandler||(r.$codeLensClickHandler=function(e){e=e.target.lensCommand;e&&r.execCommand(e.id,e.arguments)},s.addListener(r.container,"click",r.$codeLensClickHandler,r)),r.$updateLenses=function(){var t,s,i=r.session;i&&(i.widgetManager||(i.widgetManager=new d(i),i.widgetManager.attach(r)),t=r.codeLensProviders.length,s=[],r.codeLensProviders.forEach(function(e){e.provideCodeLenses(i,function(e,n){var o;e||(n.forEach(function(e){s.push(e)}),0==--t&&(e=i.selection.cursor,n=i.documentToScreenRow(e),a.setLenses(i,s),(o=i.$undoManager&&i.$undoManager.$lastDelta)&&"remove"==o.action&&1<o.lines.length||(o=i.documentToScreenRow(e),e=r.renderer.layerConfig.lineHeight,o=i.getScrollTop()+(o-n)*e,i.setScrollTop(o))))})}))};var e=i.delayedCall(r.$updateLenses);r.$updateLensesOnInput=function(){e.delay(250)},r.on("input",r.$updateLensesOnInput)}var d=e("../line_widgets").LineWidgets,s=e("../lib/event"),i=e("../lib/lang"),v=e("../lib/dom"),r=(a.setLenses=function(s,e){var n,o,i=Number.MAX_VALUE;(n=s).lineWidgets&&(o=n.widgetManager,n.lineWidgets.forEach(function(e){e&&e.lenses&&o.removeLineWidget(e)})),e&&e.forEach(function(e){var n=e.start.row,o=e.start.column,t=s.lineWidgets&&s.lineWidgets[n];(t=t&&t.lenses?t:s.widgetManager.$registerLineWidget({rowCount:1,rowsAbove:1,row:n,column:o,lenses:[]})).lenses.push(e.command),n<i&&(i=n)}),s._emit("changeFold",{data:{start:{row:i}}})},a.registerCodeLensProvider=function(e,n){e.setOption("enableCodeLens",!0),e.codeLensProviders.push(n),e.$updateLensesOnInput()},a.clear=function(e){a.setLenses(e,null)},e("../editor").Editor);e("../config").defineOptions(r.prototype,"editor",{enableCodeLens:{set:function(e){e?t(this):((e=this).off("input",e.$updateLensesOnInput),e.renderer.off("afterRender",o),e.$codeLensClickHandler&&e.container.removeEventListener("click",e.$codeLensClickHandler))}}}),v.importCssString(".ace_codeLens {    position: absolute;    color: #aaa;    font-size: 88%;    background: inherit;    width: 100%;    display: flex;    align-items: flex-end;    pointer-events: none;}.ace_codeLens > a {    cursor: pointer;    pointer-events: auto;}.ace_codeLens > a:hover {    color: #0000ff;    text-decoration: underline;}.ace_dark > .ace_codeLens > a:hover {    color: #4e94ce;}","codelense.css",!1)}),window.require(["ace/ext/code_lens"],function(e){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=e)});